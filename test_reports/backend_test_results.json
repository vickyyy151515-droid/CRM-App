{
  "summary": {
    "total_tests": 25,
    "passed_tests": 22,
    "failed_tests": 3,
    "success_rate": 88.0
  },
  "test_results": [
    {
      "test": "Admin Login",
      "success": true,
      "details": "Status: 200, Response: {\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYWRtaW4tdXNlci0xIiwiZW1haWwiOiJhZG1pbkBjcm0uY29tIiwicm9sZSI6ImFkbWluIiwiZXhwIjoxNzY4ODI1OTczfQ.nVtbDOYc9T9ve1Bk4cQkmnmhJaGzZRTznwqz6R...",
      "timestamp": "2026-01-12T12:32:53.273600"
    },
    {
      "test": "Staff Login",
      "success": true,
      "details": "Status: 200, Response: {\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoic3RhZmYtdXNlci0xIiwiZW1haWwiOiJzdGFmZkBjcm0uY29tIiwicm9sZSI6InN0YWZmIiwiZXhwIjoxNzY4ODI1OTczfQ.pkzHRaCpsx-YXRk0NLjzG6qodI_bCbPbo6F4rJ...",
      "timestamp": "2026-01-12T12:32:53.530673"
    },
    {
      "test": "Invalid Login",
      "success": true,
      "details": "Status: 401, Response: {\n  \"detail\": \"Invalid credentials\"\n}...",
      "timestamp": "2026-01-12T12:32:53.585495"
    },
    {
      "test": "Get Current User (Admin)",
      "success": true,
      "details": "Status: 200, Response: {\n  \"id\": \"admin-user-1\",\n  \"email\": \"admin@crm.com\",\n  \"name\": \"Admin User\",\n  \"role\": \"admin\",\n  \"created_at\": \"2025-01-01T00:00:00Z\"\n}...",
      "timestamp": "2026-01-12T12:32:53.622242"
    },
    {
      "test": "Unauthorized Access",
      "success": true,
      "details": "Status: 403, Response: {\n  \"detail\": \"Not authenticated\"\n}...",
      "timestamp": "2026-01-12T12:32:53.662689"
    },
    {
      "test": "Get Products List",
      "success": true,
      "details": "Status: 200, Response: [\n  {\n    \"id\": \"prod-istana2000\",\n    \"name\": \"ISTANA2000\",\n    \"created_at\": \"2025-01-01T00:00:00Z\"\n  },\n  {\n    \"id\": \"prod-liga2000\",\n    \"name\": \"LIGA2000\",\n    \"created_at\": \"2025-01-01T00:00:00...",
      "timestamp": "2026-01-12T12:32:53.697192"
    },
    {
      "test": "Create Product TEST2000",
      "success": true,
      "details": "Status: 200, Response: {\n  \"id\": \"5418e6af-8b3b-4509-9771-303b64c42f35\",\n  \"name\": \"TEST2000\",\n  \"created_at\": \"2026-01-12T12:32:53.729243Z\"\n}...",
      "timestamp": "2026-01-12T12:32:53.733393"
    },
    {
      "test": "Create Duplicate Product (Should Fail)",
      "success": true,
      "details": "Status: 400, Response: {\n  \"detail\": \"Product with this name already exists\"\n}...",
      "timestamp": "2026-01-12T12:32:53.770025"
    },
    {
      "test": "Staff Create Product (Should Fail)",
      "success": true,
      "details": "Status: 403, Response: {\n  \"detail\": \"Admin access required\"\n}...",
      "timestamp": "2026-01-12T12:32:53.804362"
    },
    {
      "test": "Upload CSV Database",
      "success": false,
      "details": "Status: 400, Error: {'detail': 'Product ID is required'}",
      "timestamp": "2026-01-12T12:32:53.839404"
    },
    {
      "test": "Upload Database Without Product (Should Fail)",
      "success": true,
      "details": "Status: 400, Response: {\n  \"detail\": \"Product ID is required\"\n}...",
      "timestamp": "2026-01-12T12:32:53.875272"
    },
    {
      "test": "Staff Upload (Should Fail)",
      "success": true,
      "details": "Status: 403, Response: {\n  \"detail\": \"Admin access required\"\n}...",
      "timestamp": "2026-01-12T12:32:53.908103"
    },
    {
      "test": "List Databases",
      "success": true,
      "details": "Status: 200, Response: [\n  {\n    \"id\": \"2bd968dd-8450-468c-a170-d4b3281e09d4\",\n    \"filename\": \"tes db 1.xlsx\",\n    \"file_type\": \"xlsx\",\n    \"file_size\": 9319,\n    \"description\": null,\n    \"product_id\": null,\n    \"product_n...",
      "timestamp": "2026-01-12T12:32:53.947710"
    },
    {
      "test": "Search Databases",
      "success": true,
      "details": "Status: 200, Response: []...",
      "timestamp": "2026-01-12T12:32:53.981510"
    },
    {
      "test": "Filter Databases by Product",
      "success": true,
      "details": "Status: 200, Response: []...",
      "timestamp": "2026-01-12T12:32:54.021169"
    },
    {
      "test": "List Download Requests (Admin)",
      "success": true,
      "details": "Status: 200, Response: [\n  {\n    \"id\": \"01c1f3bd-8f87-4b43-8f69-aaf178e55e71\",\n    \"database_id\": \"6a2c258a-941d-49f4-8866-6841717cc917\",\n    \"database_name\": \"tmp9c4f5ijr.csv\",\n    \"requested_by\": \"staff-user-1\",\n    \"requ...",
      "timestamp": "2026-01-12T12:32:54.068904"
    },
    {
      "test": "List Download Requests (Staff)",
      "success": true,
      "details": "Status: 200, Response: [\n  {\n    \"id\": \"01c1f3bd-8f87-4b43-8f69-aaf178e55e71\",\n    \"database_id\": \"6a2c258a-941d-49f4-8866-6841717cc917\",\n    \"database_name\": \"tmp9c4f5ijr.csv\",\n    \"requested_by\": \"staff-user-1\",\n    \"requ...",
      "timestamp": "2026-01-12T12:32:54.103117"
    },
    {
      "test": "Get Download History",
      "success": true,
      "details": "Status: 200, Response: [\n  {\n    \"id\": \"3257df92-ddf3-49f3-9614-6fb92c127350\",\n    \"database_id\": \"7dcb74c8-54a2-404c-96a9-8ac481f60449\",\n    \"database_name\": \"test_database.csv\",\n    \"downloaded_by\": \"staff-user-1\",\n    \"d...",
      "timestamp": "2026-01-12T12:32:54.141527"
    },
    {
      "test": "Create New User",
      "success": true,
      "details": "Status: 200, Response: {\n  \"id\": \"a6c61c2a-3c41-41ba-9c80-07a15fc5676f\",\n  \"email\": \"testuser_123254@test.com\",\n  \"name\": \"Test User\",\n  \"role\": \"staff\",\n  \"created_at\": \"2026-01-12T12:32:54.395891Z\"\n}...",
      "timestamp": "2026-01-12T12:32:54.399175"
    },
    {
      "test": "Staff Create User (Should Fail)",
      "success": true,
      "details": "Status: 403, Response: {\n  \"detail\": \"Admin access required\"\n}...",
      "timestamp": "2026-01-12T12:32:54.430829"
    },
    {
      "test": "Upload Database for Delete Test",
      "success": false,
      "details": "Status: 400, Error: {'detail': 'Product ID is required'}",
      "timestamp": "2026-01-12T12:32:54.465476"
    },
    {
      "test": "Delete Product with Databases (Should Fail)",
      "success": false,
      "details": "Status: 200, Error: {'message': 'Product deleted successfully'}",
      "timestamp": "2026-01-12T12:32:54.502395"
    },
    {
      "test": "Staff Delete Product (Should Fail)",
      "success": true,
      "details": "Status: 403, Response: {\n  \"detail\": \"Admin access required\"\n}...",
      "timestamp": "2026-01-12T12:32:54.537378"
    },
    {
      "test": "Create Product for Deletion",
      "success": true,
      "details": "Status: 200, Response: {\n  \"id\": \"acb354e2-db4f-4e77-ac5f-12189db11ef6\",\n  \"name\": \"DELETE_TEST_PRODUCT\",\n  \"created_at\": \"2026-01-12T12:32:54.567068Z\"\n}...",
      "timestamp": "2026-01-12T12:32:54.569691"
    },
    {
      "test": "Delete Product Successfully",
      "success": true,
      "details": "Status: 200, Response: {\n  \"message\": \"Product deleted successfully\"\n}...",
      "timestamp": "2026-01-12T12:32:54.603722"
    }
  ],
  "timestamp": "2026-01-12T12:32:54.604621"
}