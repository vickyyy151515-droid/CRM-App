<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="4" skipped="0" tests="26" time="8.195" timestamp="2026-02-03T16:01:12.777221+00:00" hostname="agent-env-5361ba07-5e0c-4bcb-9620-36be2f390567"><testcase classname="backend.tests.test_sync_features.TestAttendanceLeaveIntegration" name="test_01_attendance_checkin_endpoint_exists" time="0.615" /><testcase classname="backend.tests.test_sync_features.TestAttendanceLeaveIntegration" name="test_02_leave_requests_endpoint_exists" time="0.504"><failure message="AssertionError: Leave requests endpoint failed: {&quot;detail&quot;:&quot;Not Found&quot;}&#10;assert 404 == 200&#10; +  where 404 = &lt;Response [404]&gt;.status_code">backend/tests/test_sync_features.py:76: in test_02_leave_requests_endpoint_exists
    assert response.status_code == 200, f"Leave requests endpoint failed: {response.text}"
E   AssertionError: Leave requests endpoint failed: {"detail":"Not Found"}
E   assert 404 == 200
E    +  where 404 = &lt;Response [404]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_sync_features.TestAttendanceLeaveIntegration" name="test_03_attendance_code_checks_leave_status" time="0.493" /><testcase classname="backend.tests.test_sync_features.TestLatenessFeeLeaveExclusion" name="test_01_fees_summary_endpoint_exists" time="0.322" /><testcase classname="backend.tests.test_sync_features.TestLatenessFeeLeaveExclusion" name="test_02_fees_code_excludes_approved_leave" time="0.265" /><testcase classname="backend.tests.test_sync_features.TestBonusCheckExpiration" name="test_01_bonus_check_products_endpoint" time="0.270"><failure message="AttributeError: 'list' object has no attribute 'get'">backend/tests/test_sync_features.py:187: in test_01_bonus_check_products_endpoint
    print(f"  Products available: {len(data.get('products', []))}")
                                       ^^^^^^^^
E   AttributeError: 'list' object has no attribute 'get'</failure></testcase><testcase classname="backend.tests.test_sync_features.TestBonusCheckExpiration" name="test_02_bonus_check_code_uses_record_date" time="0.301" /><testcase classname="backend.tests.test_sync_features.TestBonusCheckExpiration" name="test_03_bonus_check_code_uses_last_omset" time="0.264" /><testcase classname="backend.tests.test_sync_features.TestReservedMemberCleanupGracePeriod" name="test_01_cleanup_preview_endpoint" time="0.275" /><testcase classname="backend.tests.test_sync_features.TestReservedMemberCleanupGracePeriod" name="test_02_cleanup_code_uses_last_omset_date" time="0.263" /><testcase classname="backend.tests.test_sync_features.TestReservedMemberCleanupGracePeriod" name="test_03_cleanup_code_uses_record_date_from_omset" time="0.264"><failure message="AssertionError: scheduled_reports.py should sort by record_date&#10;assert 'record_date' in ''&#10; +  where '' = CompletedProcess(args=['grep', '-n', &quot;sort=\\[\\('record_date'&quot;, '/app/backend/routes/scheduled_reports.py'], returncode=2, stdout='', stderr='grep: Unmatched ( or \\(\n').stdout">backend/tests/test_sync_features.py:290: in test_03_cleanup_code_uses_record_date_from_omset
    assert 'record_date' in result.stdout, "scheduled_reports.py should sort by record_date"
E   AssertionError: scheduled_reports.py should sort by record_date
E   assert 'record_date' in ''
E    +  where '' = CompletedProcess(args=['grep', '-n', "sort=\\[\\('record_date'", '/app/backend/routes/scheduled_reports.py'], returncode=2, stdout='', stderr='grep: Unmatched ( or \\(\n').stdout</failure></testcase><testcase classname="backend.tests.test_sync_features.TestReservedMemberDeleteBonusCleanup" name="test_01_records_delete_code_cleans_bonus_submissions" time="0.263" /><testcase classname="backend.tests.test_sync_features.TestReservedMemberDeleteBonusCleanup" name="test_02_cleanup_job_also_cleans_bonus_submissions" time="0.260" /><testcase classname="backend.tests.test_sync_features.TestUserDeleteCascade" name="test_01_user_delete_code_has_cascade_cleanup" time="0.263" /><testcase classname="backend.tests.test_sync_features.TestUserDeleteCascade" name="test_02_user_delete_cleans_reserved_members" time="0.260" /><testcase classname="backend.tests.test_sync_features.TestUserDeleteCascade" name="test_03_user_delete_cleans_bonus_submissions" time="0.265" /><testcase classname="backend.tests.test_sync_features.TestUserDeleteCascade" name="test_04_user_delete_cleans_attendance_records" time="0.279" /><testcase classname="backend.tests.test_sync_features.TestUserDeleteCascade" name="test_05_user_delete_cleans_leave_requests" time="0.263" /><testcase classname="backend.tests.test_sync_features.TestUserDeleteCascade" name="test_06_user_delete_cleans_notifications" time="0.259" /><testcase classname="backend.tests.test_sync_features.TestAtRiskAlertVariableFix" name="test_01_variable_name_is_correct" time="0.259" /><testcase classname="backend.tests.test_sync_features.TestAtRiskAlertVariableFix" name="test_02_no_old_variable_name" time="0.261" /><testcase classname="backend.tests.test_sync_features.TestAPIEndpointsHealth" name="test_01_attendance_endpoints" time="0.323" /><testcase classname="backend.tests.test_sync_features.TestAPIEndpointsHealth" name="test_02_fees_endpoints" time="0.313" /><testcase classname="backend.tests.test_sync_features.TestAPIEndpointsHealth" name="test_03_reserved_member_endpoints" time="0.317" /><testcase classname="backend.tests.test_sync_features.TestAPIEndpointsHealth" name="test_04_bonus_check_endpoints" time="0.266" /><testcase classname="backend.tests.test_sync_features.TestAPIEndpointsHealth" name="test_05_leave_endpoints" time="0.347"><failure message="AssertionError: Endpoint /api/leave-requests failed: {&quot;detail&quot;:&quot;Not Found&quot;}&#10;assert 404 == 200&#10; +  where 404 = &lt;Response [404]&gt;.status_code">backend/tests/test_sync_features.py:591: in test_05_leave_endpoints
    assert response.status_code == 200, f"Endpoint {endpoint} failed: {response.text}"
E   AssertionError: Endpoint /api/leave-requests failed: {"detail":"Not Found"}
E   assert 404 == 200
E    +  where 404 = &lt;Response [404]&gt;.status_code</failure></testcase></testsuite></testsuites>